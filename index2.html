<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>       

        class Rectangle {

            constructor(width, height) {
                if(width <= 0 || height <= 0) {
                    throw new Error("Impossible d'avoir une dimension du rectangle avec une valeur négative")
                }
                this.width = width,
                this.height = height
            }

            get isValid() {
                return (this.width > 0 && this.height > 0)
            }

            get perimeter() {
                return `(${this.width*2 + this.height*2})`
            }

            isBiggerThan(shape) {
                return this.perimeter > shape.perimeter
            }

        }

        class Square extends Rectangle{
            constructor(width) {
                super(width, width)
            }
        }

        function promptRectangle () {
            try {
                const width = parseInt(prompt("Veuillez entrer une largeur"), 10)
                const height = parseInt(prompt("Veuillez entrer une largeur"), 10)
                const r = new Rectangle(width, height)
                console.log(r.perimeter)
            } catch (e) {
                throw new Error("Entré utilisateur invalide", {cause: e})
            }
        }

        /*try {
            promptRectangle()
        } catch (e) {
            console.log(e.message, {e})
        }*/

        promptRectangle()


        class Book{

            #page = 1


            constructor(title, nbrPage){
                this.title = title,
                this.nbrPage = nbrPage
            }

            get pages (){
                return this.#page
            }

            nextPage() {
                if(this.#page < this.nbrPage) {
                    this.#page++
                }
            }

            close () {
                this.#page = 1
            }

        }

        class Library {

            #books = []

            addBook(book){
                this.#books.push(book)
            }

            addBooks(books) {
                books.forEach(book => this.addBook(book));
            }

            findBooksByLetter(letter) {
                this.#books.filter((book) => {
                    return book.title[0].toLowerCase() === letter.toLowerCase()
                })
            }
        }

        const a = new Book('Seigneur des anneaux', 200)
        console.log(a.pages)
        a.nextPage()
        console.log(a.pages)

    </script>
</body>
</html>